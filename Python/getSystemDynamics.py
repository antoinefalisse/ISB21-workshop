import numpy as np

# This function was copied from its MATLAB counterpart.

def getSystemDynamics(I1,I2,I3,I4,I5,
                      T1,T2,T3,T4,T5,
                      d1,d2,d3,d4,d5,
                      ddq1,ddq2,ddq3,ddq4,ddq5,
                      dq1,dq2,dq3,dq4,dq5,
                      g,
                      l1,l2,l4,l5,
                      m1,m2,m3,m4,m5,
                      q1,q2,q3,q4,q5):

    t2 = np.cos(q1)
    t3 = np.cos(q2)
    t4 = np.cos(q3)
    t5 = np.cos(q4)
    t6 = np.cos(q5)
    t7 = np.sin(q1)
    t8 = np.sin(q2)
    t9 = np.sin(q3)
    t10 = np.sin(q4)
    t11 = np.sin(q5)
    t12 = I2*ddq2
    t13 = I3*ddq3
    t14 = I4*ddq4
    t15 = I5*ddq5
    t16 = d3**2
    t17 = d4**2
    t18 = d5**2
    t19 = dq1**2
    t20 = dq2**2
    t21 = dq3**2
    t22 = dq4**2
    t23 = dq5**2
    t24 = l2**2
    t25 = l4**2
    t26 = l5**2
    t38 = -l1
    t39 = -q2
    t40 = -q3
    t41 = -q4
    t42 = -q5
    t53 = d4*ddq4*l4*m4*2.0
    t54 = d5*ddq5*l5*m5*2.0
    t27 = l1*t2
    t28 = l2*t3
    t29 = l4*t5
    t30 = d2*t8
    t31 = d3*t9
    t32 = d4*t10
    t33 = d5*t11
    t34 = l1*t7
    t35 = l2*t8
    t36 = l4*t10
    t37 = l5*t11
    t46 = -t12
    t47 = -t13
    t48 = -t14
    t49 = -t15
    t61 = d1+t38
    t63 = q1+t39
    t64 = q1+t40
    t65 = q1+t41
    t66 = q2+t40
    t67 = q1+t42
    t68 = q2+t41
    t69 = q2+t42
    t70 = q4+t42
    t74 = ddq3*m3*t16
    t75 = ddq4*m4*t17
    t76 = ddq5*m5*t18
    t77 = ddq4*m4*t25
    t78 = ddq4*m5*t25
    t79 = ddq5*m5*t26
    t43 = ddq1*t27
    t44 = ddq2*t28
    t45 = ddq4*t29
    t50 = ddq1*t34
    t51 = ddq2*t35
    t52 = ddq4*t36
    t55 = g*m3*t31
    t56 = g*m4*t32
    t57 = g*m5*t33
    t58 = g*m4*t36
    t59 = g*m5*t36
    t60 = g*m5*t37
    t62 = -t29
    t71 = -t30
    t72 = -t36
    t73 = -t37
    t81 = np.cos(t63)
    t82 = np.cos(t64)
    t83 = np.cos(t65)
    t84 = np.cos(t66)
    t85 = np.cos(t67)
    t86 = np.cos(t68)
    t87 = np.cos(t69)
    t88 = np.cos(t70)
    t90 = np.sin(t63)
    t91 = np.sin(t64)
    t92 = np.sin(t65)
    t93 = np.sin(t66)
    t94 = np.sin(t67)
    t95 = np.sin(t68)
    t96 = np.sin(t69)
    t97 = np.sin(t70)
    t98 = t19*t27
    t99 = t20*t28
    t100 = t22*t29
    t101 = t19*t34
    t102 = t20*t35
    t103 = t22*t36
    t107 = t61**2
    t108 = -t74
    t109 = -t75
    t110 = -t76
    t111 = -t77
    t112 = -t78
    t113 = -t79
    t133 = t31+t34+t35
    t80 = -t45
    t89 = -t52
    t104 = -t58
    t105 = -t59
    t106 = -t60
    t114 = t22*t62
    t115 = -t101
    t116 = -t102
    t117 = d3*ddq1*l1*m3*t82
    t118 = d3*ddq2*l2*m3*t84
    t119 = d4*ddq1*l1*m4*t83
    t120 = d4*ddq2*l2*m4*t86
    t121 = d5*ddq1*l1*m5*t85
    t122 = d5*ddq2*l2*m5*t87
    t123 = d5*ddq4*l4*m5*t88
    t124 = d5*ddq5*l4*m5*t88
    t125 = ddq1*l1*l4*m4*t83
    t126 = ddq1*l1*l4*m5*t83
    t127 = ddq1*l1*l5*m5*t85
    t128 = ddq2*l2*l4*m4*t86
    t129 = ddq2*l2*l4*m5*t86
    t130 = ddq2*l2*l5*m5*t87
    t131 = ddq4*l4*l5*m5*t88
    t132 = ddq5*l4*l5*m5*t88
    t134 = d3*ddq1*m3*t38*t82
    t136 = d4*ddq1*m4*t38*t83
    t138 = d5*ddq1*m5*t38*t85
    t142 = d3*l1*m3*t19*t91
    t143 = d3*l2*m3*t20*t93
    t144 = d4*l1*m4*t19*t92
    t145 = d4*l2*m4*t20*t95
    t146 = d5*l1*m5*t19*t94
    t147 = d5*l2*m5*t20*t96
    t148 = d5*l4*m5*t22*t97
    t149 = d5*l4*m5*t23*t97
    t150 = l1*l4*m4*t19*t92
    t151 = l1*l4*m5*t19*t92
    t152 = l1*l5*m5*t19*t94
    t153 = l2*l4*m4*t20*t95
    t154 = l2*l4*m5*t20*t95
    t155 = l2*l5*m5*t20*t96
    t156 = l4*l5*m5*t22*t97
    t157 = l4*l5*m5*t23*t97
    t158 = t34+t35+t71
    t160 = l4*m4*t19*t38*t92
    t161 = l4*m5*t19*t38*t92
    t162 = l5*m5*t19*t38*t94
    t167 = t32+t34+t35+t72
    t168 = t33+t34+t35+t72+t73
    t135 = -t118
    t137 = -t120
    t139 = -t122
    t140 = -t131
    t141 = -t132
    t159 = -t148
    t163 = -t153
    t164 = -t154
    t165 = -t155
    t166 = -t157
    eq_systemDynamics = [T1+t46+t47+t48+t49-I1*ddq1-m5*t168*(t50+t51+t89+t98+t99+t114+ddq5*t33+ddq5*t73+d5*t6*t23-l5*t6*t23)-m4*t167*(t50+t51+t89+t98+t99+t114+ddq4*t32+d4*t5*t22)-m3*t133*(t50+t51+t98+t99+ddq3*t31+d3*t4*t21)-m2*t158*(t50+t51+t98+t99+ddq2*t71-d2*t3*t20)-m2*(t27+t28-d2*t3)*(t43+t44+t115+t116+t20*t30-d2*ddq2*t3)-m3*(t27+t28+d3*t4)*(t43+t44+t115+t116-t21*t31+d3*ddq3*t4)+g*m3*t133+g*m2*t158+g*m4*t167+g*m5*t168-m4*(t27+t28+t62+d4*t5)*(t43+t44+t80+t103+t115+t116-t22*t32+d4*ddq4*t5)-m5*(t27+t28+t62+d5*t6-l5*t6)*(t43+t44+t80+t103+t115+t116-t23*t33+t23*t37+d5*ddq5*t6-ddq5*l5*t6)-g*m1*t7*t61-m1*t2*t107*(ddq1*t2-t7*t19)-m1*t7*t107*(ddq1*t7+t2*t19), T2+t46+t47+t48+t49+t53+t54+t55+t56+t57+t104+t105+t106+t108+t109+t110+t111+t112+t113+t123+t124+t125+t126+t127+t128+t129+t130+t134+t135+t136+t137+t138+t139+t140+t141+t142+t143+t144+t145+t146+t147+t149+t156+t159+t160+t161+t162+t163+t164+t165+t166-ddq2*m2*t24-ddq2*m3*t24-ddq2*m4*t24-ddq2*m5*t24+g*m2*t35+g*m3*t35+g*m4*t35+g*m5*t35+g*m2*t71-d2**2*ddq2*m2+d2*ddq2*l2*m2*2.0+d2*ddq1*l1*m2*t81-d3*ddq3*l2*m3*t84-d4*ddq4*l2*m4*t86-d5*ddq5*l2*m5*t87+ddq4*l2*l4*m4*t86+ddq4*l2*l4*m5*t86+ddq5*l2*l5*m5*t87-d3*l2*m3*t21*t93-d4*l2*m4*t22*t95-d5*l2*m5*t23*t96+ddq1*l2*m2*t38*t81+ddq1*l2*m3*t38*t81+ddq1*l2*m4*t38*t81+ddq1*l2*m5*t38*t81+l1*l2*m2*t19*t90+l1*l2*m3*t19*t90+l1*l2*m4*t19*t90+l1*l2*m5*t19*t90+l2*l4*m4*t22*t95+l2*l4*m5*t22*t95+l2*l5*m5*t23*t96+d2*m2*t19*t38*t90, T3+t47+t48+t49+t53+t54+t55+t56+t57+t104+t105+t106+t108+t109+t110+t111+t112+t113+t123+t124+t125+t126+t127+t128+t129+t130+t134+t135+t136+t137+t138+t139+t140+t141+t142+t143+t144+t145+t146+t147+t149+t156+t159+t160+t161+t162+t163+t164+t165+t166, T4+t48+t49+t53+t54+t56+t57+t104+t105+t106+t109+t110+t111+t112+t113+t123+t124+t125+t126+t127+t128+t129+t130+t136+t137+t138+t139+t140+t141+t144+t145+t146+t147+t149+t156+t159+t160+t161+t162+t163+t164+t165+t166, T5+t49+t54+t57+t106+t110+t113+t123+t127+t130+t138+t139+t140+t146+t147+t156+t159+t162+t165] 

    return eq_systemDynamics
